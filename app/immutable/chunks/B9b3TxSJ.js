import{ad as R,ae as F,af as G,M as h,ag as J,x as I,U as v,a3 as w,ah as A,J as x,ai as z,Z as Q,W as C,aj as p,ak as D,al as K,a6 as X,am as ee,an as te,ao as k,a9 as re,H as ae,V as ne,ap as j,i as S,g as W,d as ie,m as T,F as se,aq as fe,ar as ue,P as oe,G as de,as as le,a7 as ce,k as _e,h as M,p as ve,o as ge,a as ye}from"./CM4pAiW9.js";import{r as he,b as we}from"./CWbzXHJa.js";function P(e,t=null,u){if(typeof e!="object"||e===null||R in e)return e;const l=Q(e);if(l!==F&&l!==G)return e;var n=new Map,i=C(e),_=h(0);i&&n.set("length",h(e.length));var g;return new Proxy(e,{defineProperty(d,r,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&z();var f=n.get(r);return f===void 0?(f=h(s.value),n.set(r,f)):w(f,P(s.value,g)),!0},deleteProperty(d,r){var s=n.get(r);if(s===void 0)r in d&&n.set(r,h(v));else{if(i&&typeof r=="string"){var f=n.get("length"),a=Number(r);Number.isInteger(a)&&a<f.v&&w(f,a)}w(s,v),Y(_)}return!0},get(d,r,s){var c;if(r===R)return e;var f=n.get(r),a=r in d;if(f===void 0&&(!a||(c=A(d,r))!=null&&c.writable)&&(f=h(P(a?d[r]:v,g)),n.set(r,f)),f!==void 0){var o=I(f);return o===v?void 0:o}return Reflect.get(d,r,s)},getOwnPropertyDescriptor(d,r){var s=Reflect.getOwnPropertyDescriptor(d,r);if(s&&"value"in s){var f=n.get(r);f&&(s.value=I(f))}else if(s===void 0){var a=n.get(r),o=a==null?void 0:a.v;if(a!==void 0&&o!==v)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return s},has(d,r){var o;if(r===R)return!0;var s=n.get(r),f=s!==void 0&&s.v!==v||Reflect.has(d,r);if(s!==void 0||x!==null&&(!f||(o=A(d,r))!=null&&o.writable)){s===void 0&&(s=h(f?P(d[r],g):v),n.set(r,s));var a=I(s);if(a===v)return!1}return f},set(d,r,s,f){var b;var a=n.get(r),o=r in d;if(i&&r==="length")for(var c=s;c<a.v;c+=1){var y=n.get(c+"");y!==void 0?w(y,v):c in d&&(y=h(v),n.set(c+"",y))}a===void 0?(!o||(b=A(d,r))!=null&&b.writable)&&(a=h(void 0),w(a,P(s,g)),n.set(r,a)):(o=a.v!==v,w(a,P(s,g)));var m=Reflect.getOwnPropertyDescriptor(d,r);if(m!=null&&m.set&&m.set.call(f,s),!o){if(i&&typeof r=="string"){var L=n.get("length"),E=Number(r);Number.isInteger(E)&&E>=L.v&&w(L,E+1)}Y(_)}return!0},ownKeys(d){I(_);var r=Reflect.ownKeys(d).filter(a=>{var o=n.get(a);return o===void 0||o.v!==v});for(var[s,f]of n)f.v!==v&&!(s in d)&&r.push(s);return r},setPrototypeOf(){J()}})}function Y(e,t=1){w(e,e.v+t)}function q(e){return e!==null&&typeof e=="object"&&R in e?e[R]:e}function Re(e,t){return Object.is(q(e),q(t))}const be=["touchstart","touchmove"];function me(e){return be.includes(e)}let B=!1;function Ee(){B||(B=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const u of e.target.elements)(t=u.__on_r)==null||t.call(u)})},{capture:!0}))}function U(e){var t=K,u=x;p(null),D(null);try{return e()}finally{p(t),D(u)}}function Le(e,t,u,l=u){e.addEventListener(t,()=>U(u));const n=e.__on_r;n?e.__on_r=()=>{n(),l(!0)}:e.__on_r=()=>l(!0),Ee()}const Z=new Set,V=new Set;function Ne(e,t,u,l={}){function n(i){if(l.capture||O.call(t,i),!i.cancelBubble)return U(()=>u==null?void 0:u.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ee(()=>{t.addEventListener(e,n,l)}):t.addEventListener(e,n,l),n}function Ie(e,t,u,l,n){var i={capture:l,passive:n},_=Ne(e,t,u,i);(t===document.body||t===window||t===document)&&X(()=>{t.removeEventListener(e,_,i)})}function Se(e){for(var t=0;t<e.length;t++)Z.add(e[t]);for(var u of V)u(e)}function O(e){var E;var t=this,u=t.ownerDocument,l=e.type,n=((E=e.composedPath)==null?void 0:E.call(e))||[],i=n[0]||e.target,_=0,g=e.__root;if(g){var d=n.indexOf(g);if(d!==-1&&(t===document||t===window)){e.__root=t;return}var r=n.indexOf(t);if(r===-1)return;d<=r&&(_=d)}if(i=n[_]||e.target,i!==t){te(e,"currentTarget",{configurable:!0,get(){return i||u}});var s=K,f=x;p(null),D(null);try{for(var a,o=[];i!==null;){var c=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+l];if(y!=null&&(!i.disabled||e.target===i))if(C(y)){var[m,...L]=y;m.apply(i,[e,...L])}else y.call(i,e)}catch(b){a?o.push(b):a=b}if(e.cancelBubble||c===t||c===null)break;i=c}if(a){for(let b of o)queueMicrotask(()=>{throw b});throw a}}finally{e.__root=t,delete e.currentTarget,p(s),D(f)}}}function pe(e,t){var u=t==null?"":typeof t=="object"?t+"":t;u!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=u,e.nodeValue=u+"")}function Pe(e,t){return $(e,t)}function De(e,t){k(),t.intro=t.intro??!1;const u=t.target,l=M,n=T;try{for(var i=re(u);i&&(i.nodeType!==8||i.data!==ae);)i=ne(i);if(!i)throw j;S(!0),W(i),ie();const _=$(e,{...t,anchor:i});if(T===null||T.nodeType!==8||T.data!==se)throw fe(),j;return S(!1),_}catch(_){if(_===j)return t.recover===!1&&ue(),k(),oe(u),S(!1),Pe(e,t);throw _}finally{S(l),W(n),he()}}const N=new Map;function $(e,{target:t,anchor:u,props:l={},events:n,context:i,intro:_=!0}){k();var g=new Set,d=f=>{for(var a=0;a<f.length;a++){var o=f[a];if(!g.has(o)){g.add(o);var c=me(o);t.addEventListener(o,O,{passive:c});var y=N.get(o);y===void 0?(document.addEventListener(o,O,{passive:c}),N.set(o,1)):N.set(o,y+1)}}};d(de(Z)),V.add(d);var r=void 0,s=le(()=>{var f=u??t.appendChild(ce());return _e(()=>{if(i){ve({});var a=ge;a.c=i}n&&(l.$$events=n),M&&we(f,null),r=e(f,l)||{},M&&(x.nodes_end=T),i&&ye()}),()=>{var c;for(var a of g){t.removeEventListener(a,O);var o=N.get(a);--o===0?(document.removeEventListener(a,O),N.delete(a)):N.set(a,o)}V.delete(d),f!==u&&((c=f.parentNode)==null||c.removeChild(f))}});return H.set(r,s),r}let H=new WeakMap;function xe(e,t){const u=H.get(e);return u?(H.delete(e),u(t)):Promise.resolve()}export{Se as d,Ie as e,De as h,Re as i,Le as l,Pe as m,P as p,pe as s,xe as u,U as w};
